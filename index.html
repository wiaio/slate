<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Wia Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;javascript&quot;,&quot;objective_c&quot;,&quot;java&quot;,&quot;python&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.svg" style="height: 34px;width:auto;margin: 10px auto 16px auto;" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">curl</a>
              <a href="#" data-language-name="javascript">Node.js</a>
              <a href="#" data-language-name="objective_c">iOS</a>
              <a href="#" data-language-name="java">Java</a>
              <a href="#" data-language-name="python">Python</a>
        </div>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://www.wia.io/signup' target="_blank">Create a free Wia account</a></li>
            <li><a href='http://twitter.com/wiaio' target="_blank">Follow us on Twitter @wiaio</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<blockquote>
<p>REST Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.wia.io (port 443) - Secure
</code></pre>

<blockquote>
<p>MQTT Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>mqtt://api.wia.io (port 1883) - Non-secure
mqtts://api.wia.io (port 8883) - Secure
</code></pre>

<blockquote>
<p>Websockets Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>ws://api.wia.io (port 3000) - Non-secure
wss://api.wia.io (port 3001) - Secure
</code></pre>

<p>The Wia API is designed to be as intuitive as possible. We offer both a REST API and streaming over MQTT. If you have any questions, would like to see a new feature or find something is broken then <a href="mailto:support@wia.io">let us know</a>.</p>

<p>We have official client libraries that can be found on our <a href="https://github.com/wiaio" target="_blank">GitHub page</a>.</p>

<p>You can view code examples in the dark area to the right, and switch the programming language of the examples with the tabs in the top right.</p>

<aside class="warning">The Wia API is currently under development and breaking changes may be introduced.</aside>

<h1 id="authentication">Authentication</h1>

<h2 id="authenticating-requests">Authenticating requests</h2>

<p>The Wia API expects the secret key or access token be included in all API requests to the server in a header that looks like the following:</p>

<p><code class="prettyprint">Authorization: Bearer token</code></p>

<p>It can also be added to a request as a query parameter, for example:</p>

<p><code class="prettyprint">GET https://api.wia.io/v1/devices?access_token=u_asd81nksdf9191jKASU2k</code></p>

<aside class="warning">If you are not using the correct type of token, you will get a 401 Unauthorized response.</aside>
<pre class="highlight shell"><code>curl https://api.wia.io/v1 <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer token"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="c1">// With secret key in constructor object</span>
<span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)({</span>
    <span class="na">secretKey</span><span class="p">:</span> <span class="s1">'secretKey'</span>
<span class="p">});</span>

<span class="c1">// With application key in constructor object</span>
<span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)({</span>
    <span class="na">appKey</span><span class="p">:</span> <span class="s1">'appKey'</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="c1">// Set the secret key
</span><span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">setSecretKey</span><span class="p">:</span><span class="s">"secret_key"</span><span class="p">];</span>

<span class="c1">// Set the app key
</span><span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">setAppKey</span><span class="p">:</span><span class="s">"app_key"</span><span class="p">];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>

<span class="c1">// Set the secret key</span>
<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>

<span class="c1">// Set the app key</span>
<span class="n">Wia</span><span class="o">.</span><span class="na">setAppKey</span><span class="o">(</span><span class="s">"app_key"</span><span class="o">);</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="c"># Set the secret key</span>
<span class="n">wia</span><span class="o">.</span><span class="n">secret_key</span> <span class="o">=</span> <span class="s">"secret_key"</span>

<span class="c"># Set the app key</span>
<span class="n">wia</span><span class="o">.</span><span class="n">app_key</span> <span class="o">=</span> <span class="s">"app_key"</span>
</code></pre>

<p>If you are connecting using your own MQTT or Websocket client, put your access token in the username field and blank space for the password.</p>

<p><code class="prettyprint">Endpoint: mqtt://api.wia.io:1883 or mqtts://api.wia.io:8883</code><br>
<code class="prettyprint">Username: &quot;token&quot;</code><br>
<code class="prettyprint">Password: &quot; &quot; // Note the space</code>  </p>

<h1 id="stream">Stream</h1>

<h2 id="connect-to-stream">Connect to stream</h2>

<blockquote>
<p>To connect to the stream, use this code:</p>
</blockquote>
<pre class="highlight shell"><code>Not supported
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'token'</span><span class="p">);</span>
<span class="nx">wia</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">connect</span><span class="p">();</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">connectToStream</span><span class="p">];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>
<span class="n">Wia</span><span class="o">.</span><span class="na">connectToStream</span><span class="o">();</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="n">wia</span><span class="o">.</span><span class="n">secret_key</span> <span class="o">=</span> <span class="s">"secret_key"</span>
<span class="n">wia</span><span class="o">.</span><span class="n">Stream</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</code></pre>

<p>We recommend sending all events and logs down the Wia stream (i.e. MQTT), instead of via REST. In order to do so, you must connect to the stream before publishing any data or you will get an error.</p>

<h2 id="disconnect-from-stream">Disconnect from stream</h2>

<blockquote>
<p>To disconnect from the stream, use this code:</p>
</blockquote>
<pre class="highlight shell"><code>Not supported
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'token'</span><span class="p">);</span>
<span class="nx">wia</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">disconnect</span><span class="p">();</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">disconnectFromStream</span><span class="p">];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">disconnectFromStream</span><span class="o">();</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="n">wia</span><span class="o">.</span><span class="n">secret_key</span> <span class="o">=</span> <span class="s">"secret_key"</span>
<span class="n">wia</span><span class="o">.</span><span class="n">Stream</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</code></pre>

<p>To close an MQTT connection you must disconnect from the stream.</p>

<h2 id="stream-handlers">Stream handlers</h2>

<blockquote>
<p>Connect</p>
</blockquote>
<pre class="highlight shell"><code>Not supported
</code></pre>
<pre class="highlight javascript"><code><span class="nx">wia</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'connect'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Stream connected!'</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="p">[[</span><span class="n">NSNotificationCenter</span> <span class="nf">defaultCenter</span><span class="p">]</span> <span class="nf">addObserverForName</span><span class="p">:</span><span class="s">@"WiaStreamConnect"</span> <span class="nf">object</span><span class="p">:</span><span class="nb">nil</span> <span class="nf">queue</span><span class="p">:</span><span class="nb">nil</span> <span class="nf">usingBlock</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSNotification</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">note</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Stream connected"</span><span class="p">)</span><span class="err">;</span>
<span class="p">})</span><span class="err">;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">Not</span> <span class="n">supported</span>
</code></pre>
<pre class="highlight python"><code><span class="n">Not</span> <span class="n">supported</span>
</code></pre>

<blockquote>
<p>Reconnect</p>
</blockquote>
<pre class="highlight shell"><code>Not supported
</code></pre>
<pre class="highlight javascript"><code><span class="nx">wia</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'reconnect'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Stream reconnecting!'</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="p">[[</span><span class="n">NSNotificationCenter</span> <span class="nf">defaultCenter</span><span class="p">]</span> <span class="nf">addObserverForName</span><span class="p">:</span><span class="s">@"WiaStreamReconnect"</span> <span class="nf">object</span><span class="p">:</span><span class="nb">nil</span> <span class="nf">queue</span><span class="p">:</span><span class="nb">nil</span> <span class="nf">usingBlock</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSNotification</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">note</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Stream reconnecting"</span><span class="p">)</span><span class="err">;</span>
<span class="p">})</span><span class="err">;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">Not</span> <span class="n">supported</span>
</code></pre>
<pre class="highlight python"><code><span class="n">Not</span> <span class="n">supported</span>
</code></pre>

<blockquote>
<p>Disconnect</p>
</blockquote>
<pre class="highlight shell"><code>Not supported
</code></pre>
<pre class="highlight javascript"><code><span class="nx">wia</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'disconnect'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Stream disconnected!'</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="p">[[</span><span class="n">NSNotificationCenter</span> <span class="nf">defaultCenter</span><span class="p">]</span> <span class="nf">addObserverForName</span><span class="p">:</span><span class="s">@"WiaStreamDisconnect"</span> <span class="nf">object</span><span class="p">:</span><span class="nb">nil</span> <span class="nf">queue</span><span class="p">:</span><span class="nb">nil</span> <span class="nf">usingBlock</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSNotification</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">note</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Stream disconnected"</span><span class="p">)</span><span class="err">;</span>
<span class="p">})</span><span class="err">;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">Not</span> <span class="n">supported</span>
</code></pre>
<pre class="highlight python"><code><span class="n">Not</span> <span class="n">supported</span>
</code></pre>

<blockquote>
<p>Offline</p>
</blockquote>
<pre class="highlight shell"><code>Not supported
</code></pre>
<pre class="highlight javascript"><code><span class="nx">wia</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'offline'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Stream offline!'</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="p">[[</span><span class="n">NSNotificationCenter</span> <span class="nf">defaultCenter</span><span class="p">]</span> <span class="nf">addObserverForName</span><span class="p">:</span><span class="s">@"WiaStreamOffline"</span> <span class="nf">object</span><span class="p">:</span><span class="nb">nil</span> <span class="nf">queue</span><span class="p">:</span><span class="nb">nil</span> <span class="nf">usingBlock</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSNotification</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">note</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Stream offline"</span><span class="p">)</span><span class="err">;</span>
<span class="p">})</span><span class="err">;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">Not</span> <span class="n">supported</span>
</code></pre>
<pre class="highlight python"><code><span class="n">Not</span> <span class="n">supported</span>
</code></pre>

<blockquote>
<p>Error</p>
</blockquote>
<pre class="highlight shell"><code>Not supported
</code></pre>
<pre class="highlight javascript"><code><span class="nx">wia</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'error'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Stream error!'</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="p">[[</span><span class="n">NSNotificationCenter</span> <span class="nf">defaultCenter</span><span class="p">]</span> <span class="nf">addObserverForName</span><span class="p">:</span><span class="s">@"WiaStreamError"</span> <span class="nf">object</span><span class="p">:</span><span class="nb">nil</span> <span class="nf">queue</span><span class="p">:</span><span class="nb">nil</span> <span class="nf">usingBlock</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSNotification</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">note</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Stream error"</span><span class="p">)</span><span class="err">;</span>
<span class="p">})</span><span class="err">;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">Not</span> <span class="n">supported</span>
</code></pre>
<pre class="highlight python"><code><span class="n">Not</span> <span class="n">supported</span>
</code></pre>

<p>When communicating with the stream, a number of notifications are emitted.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Connect</td>
<td>Emitted on successful connection.</td>
</tr>
<tr>
<td>Reconnect</td>
<td>Emitted when a reconnect starts.</td>
</tr>
<tr>
<td>Disconnect</td>
<td>Emitted after a disconnection.</td>
</tr>
<tr>
<td>Offline</td>
<td>Emitted when the client goes offline.</td>
</tr>
<tr>
<td>Error</td>
<td>Emitted when a client cannot connect or a parsing error occurs.</td>
</tr>
</tbody></table>

<h1 id="devices">Devices</h1>

<h2 id="the-device-object">The device object</h2>

<blockquote>
<p>Example of a Device object</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev_sdf892mdfgj238kdfg"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Device One"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"temperature"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="mf">21.5</span><span class="p">,</span><span class="w">
            </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444995825836</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"gyroscope"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"x"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.015</span><span class="p">,</span><span class="w">
                </span><span class="nt">"y"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.67</span><span class="p">,</span><span class="w">
                </span><span class="nt">"z"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.49</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444995825836</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"isOnline"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1445198559000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1445198559000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>All devices are made up of the same object structure.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Unique identifier of the device.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Name of the device.</td>
</tr>
<tr>
<td>events</td>
<td>Object</td>
<td>List of most recent events.</td>
</tr>
<tr>
<td>isOnline</td>
<td>Boolean</td>
<td>Online status of the device.</td>
</tr>
<tr>
<td>createdAt</td>
<td>Timestamp</td>
<td>Timestamp of when device was created.</td>
</tr>
<tr>
<td>updatedAt</td>
<td>Timestamp</td>
<td>Timestamp of when device was updated.</td>
</tr>
</tbody></table>

<h2 id="create-a-device">Create a device</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/devices"</span>
    -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -X POST -d <span class="s1">'{"name":"My first device"}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">devices</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">name</span><span class="p">:</span> <span class="s2">"My first device"</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">device</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">device</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">device</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">createDevice</span><span class="p">:</span><span class="err">@</span><span class="p">{</span>
  <span class="nf">name</span><span class="p">:</span> <span class="s">@"My first device"</span>
<span class="p">}</span> <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">WiaDevice</span> <span class="o">*</span><span class="n">device</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>

<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">deviceParams</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
<span class="n">deviceParams</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"myFirstDevice"</span><span class="o">);</span>

<span class="n">Device</span> <span class="n">device</span> <span class="o">=</span> <span class="n">Device</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">deviceParams</span><span class="o">);</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="n">wia</span><span class="o">.</span><span class="n">secret_key</span> <span class="o">=</span> <span class="s">"secret_key"</span>

<span class="n">device</span> <span class="o">=</span> <span class="n">wia</span><span class="o">.</span><span class="n">Device</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s">"My first device"</span>
<span class="p">)</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev_1msdf89k83jdf"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Device One"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isOnline"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444062135000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444062135000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a device.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.wia.io/v1/devices</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>✓</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>x</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Name of the device to be created</td>
</tr>
</tbody></table>

<h2 id="retrieve-a-device">Retrieve a device</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/devices/:id"</span>
    -H <span class="s2">"Authorization: Bearer token"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">devices</span><span class="p">.</span><span class="nx">retrieve</span><span class="p">(</span><span class="s2">"dev_23idgk0smd"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">device</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">device</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">device</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">retrieveDevice</span><span class="p">:</span><span class="s">@"dev_23idgk0smd"</span>
<span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">WiaDevice</span> <span class="o">*</span><span class="n">device</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>

<span class="n">Device</span> <span class="n">device</span> <span class="o">=</span> <span class="n">Device</span><span class="o">.</span><span class="na">retrieve</span><span class="o">(</span><span class="s">"dev_kj28hfgno19"</span><span class="o">);</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="n">wia</span><span class="o">.</span><span class="n">secret_key</span> <span class="o">=</span> <span class="s">"secret_key"</span>

<span class="n">device</span> <span class="o">=</span> <span class="n">wia</span><span class="o">.</span><span class="n">Device</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="s">"dev_kj28hfgno19"</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev_23idgk0smd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Device One"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isOnline"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"sensor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444995825836</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ambientTemperature"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">19.7867</span><span class="p">,</span><span class="w">
                </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444995825836</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"light"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">123.65</span><span class="p">,</span><span class="w">
                </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444995825836</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1445199652859</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1445199652234</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a device.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.wia.io/v1/devices/:id</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>✓</td>
<td>Can only retrieve information about itself.</td>
</tr>
<tr>
<td>User</td>
<td>✓</td>
<td>Can retrieve all devices.</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
<td>Can retrieve all devices.</td>
</tr>
<tr>
<td>Customer</td>
<td>✓</td>
<td>Can only retrieve devices linked to their account.</td>
</tr>
</tbody></table>

<p>To retrieve the current authenticated device, pass the &ldquo;me&rdquo; as the ID.</p>

<h2 id="update-a-device">Update a device</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/devices/dev_23idgk0smd"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -X PUT -d <span class="s1">'{"name":"New Device Name"}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">devices</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="s2">"dev_23idgk0smd"</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">name</span><span class="p">:</span> <span class="s2">"New Device Name"</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">device</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">device</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">device</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">updateDevice</span><span class="p">:</span><span class="s">@"dev_23idgk0smd"</span>
  <span class="nf">fields</span><span class="p">:</span><span class="err">@</span><span class="p">{</span>
    <span class="s">@"name"</span><span class="o">:</span> <span class="s">@"New device name"</span>
  <span class="p">}</span>
  <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">WiaDevice</span> <span class="o">*</span><span class="n">device</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.wia.models.Device</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>

<span class="n">Device</span> <span class="n">retrievedDevice</span> <span class="o">=</span> <span class="n">Device</span><span class="o">.</span><span class="na">retrieve</span><span class="o">(</span><span class="s">"dev_kn18herg9"</span><span class="o">);</span>

<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">updateParams</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
<span class="n">updateParams</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"New device name"</span><span class="o">);</span>

<span class="n">retrievedDevice</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="n">updateParams</span><span class="o">);</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="n">wia</span><span class="o">.</span><span class="n">secret_key</span> <span class="o">=</span> <span class="s">"sk_asdgf23uNsdfu23jnfdgJKHG"</span>

<span class="n">device</span> <span class="o">=</span> <span class="n">wia</span><span class="o">.</span><span class="n">Device</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="s">"dev_kw8bnfimsngubdfg23"</span><span class="p">)</span>
<span class="n">device</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">"New device name"</span>
<span class="n">device</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev_23idgk0smd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Device One"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1445199652859</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1445199652234</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint updates a device&rsquo;s details.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.wia.io/v1/devices/:id</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>✓</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>x</td>
</tr>
</tbody></table>

<h2 id="delete-a-device">Delete a device</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/devices/:id"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
    -X DELETE
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">devices</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span>
    <span class="s2">"dev_23idgk0smd"</span><span class="p">,</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">deleted</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">deleted</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">deleted</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">deleteDevice</span><span class="p">:</span><span class="s">@"dev_23idgksdf0smd"</span>
  <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">BOOL</span> <span class="n">deleted</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.wia.models.Device</span><span class="o">;</span>

<span class="n">Device</span> <span class="n">device</span> <span class="o">=</span> <span class="n">Device</span><span class="o">.</span><span class="na">retrieve</span><span class="o">(</span><span class="s">"dev_1j12k2erhgjng89l"</span><span class="o">);</span>

<span class="n">WiaDeletedObject</span> <span class="n">deletedDevice</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="na">delete</span><span class="o">();</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="n">wia</span><span class="o">.</span><span class="n">secret_key</span> <span class="o">=</span> <span class="s">"sk_asdgf23uNsdfu23jnfdgJKHG"</span>

<span class="n">device</span> <span class="o">=</span> <span class="n">wia</span><span class="o">.</span><span class="n">Device</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="s">"dev_kw8bnfimsngubdfg23"</span><span class="p">)</span>
<span class="n">device</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</code></pre>

<blockquote>
<p>The above command returns status 200 OK when a device has been deleted.</p>
</blockquote>

<p>This endpoint deletes a device.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.wia.io/v1/devices/:id</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>✓</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>x</td>
</tr>
</tbody></table>

<h2 id="list-devices">List devices</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/devices?limit=20"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
    -X GET
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">devices</span><span class="p">.</span><span class="nx">list</span><span class="p">({</span>
    <span class="na">limit</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="na">page</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">listDevices</span><span class="p">:</span><span class="err">@</span><span class="p">{</span>
  <span class="s">@"limit"</span><span class="o">:</span> <span class="err">@</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
  <span class="s">@"page"</span><span class="o">:</span> <span class="err">@</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">}</span> <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSArray</span> <span class="o">*</span><span class="n">devices</span><span class="p">,</span> <span class="n">NSNumber</span> <span class="o">*</span><span class="n">count</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.wia.models.DeviceCollection</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>

<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
<span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"limit"</span><span class="o">,</span> <span class="mi">10</span><span class="o">);</span>

<span class="n">DeviceCollection</span> <span class="n">devicesCollection</span> <span class="o">=</span> <span class="n">Device</span><span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">params</span><span class="o">);</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="n">wia</span><span class="o">.</span><span class="n">secret_key</span> <span class="o">=</span> <span class="s">"secret_key"</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">wia</span><span class="o">.</span><span class="n">Device</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"devices"</span><span class="err">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev_23idgksdf0smd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Device One"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isOnline"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1445199652859</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1445199652234</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev_823nmdfgoshISj"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Device Two"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isOnline"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1445199652859</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1445199652234</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"count"</span><span class="err">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves devices and a total count.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.wia.io/v1/devices</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>✓</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>✓</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>limit</td>
<td>Number</td>
<td>20</td>
<td>Number of devices to return. Max value 200.</td>
</tr>
<tr>
<td>page</td>
<td>Number</td>
<td>0</td>
<td>First page is 0.</td>
</tr>
<tr>
<td>order</td>
<td>String</td>
<td>&lsquo;createdAt&rsquo;</td>
<td>Field to sort by. Valid values include name and lastUpdated.</td>
</tr>
<tr>
<td>sort</td>
<td>String</td>
<td>&#39;desc&rsquo;</td>
<td>Either ascending (asc) or descending (desc).</td>
</tr>
<tr>
<td>customer</td>
<td>String</td>
<td>-</td>
<td>ID of customer to get devices for.</td>
</tr>
</tbody></table>

<h1 id="events">Events</h1>

<h2 id="the-event-object">The event object</h2>

<blockquote>
<p>Example of an Event object with single data value</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eventName"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440597871365</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Example of an Event object with object in data</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eventName"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440597871654</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>All events are made up of the same object structure.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Name of the event. Alphanumeric characters only.</td>
</tr>
<tr>
<td>data</td>
<td>Any</td>
<td>Data associated with the event. A number, string or object can be passed into this.</td>
</tr>
<tr>
<td>timestamp</td>
<td>Timestamp</td>
<td>Timestamp of the event in milliseconds.</td>
</tr>
</tbody></table>

<h2 id="publish-an-event">Publish an event</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl https://api.wia.io/v1/events <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -X POST -d <span class="s1">'{"name":"temperature","data":21.5}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">publish</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="s2">"temperature"</span><span class="p">,</span>
      <span class="na">data</span><span class="p">:</span> <span class="mf">21.5</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">published</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">published</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Event published."</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">publishEvent</span><span class="p">:</span><span class="err">@</span><span class="p">{</span>
    <span class="s">@"name"</span><span class="o">:</span> <span class="s">@"testEvent"</span><span class="p">,</span>
    <span class="s">@"data"</span><span class="o">:</span> <span class="err">@</span><span class="p">(</span><span class="mi">12</span><span class="p">.</span><span class="mi">5</span><span class="p">)</span>
<span class="p">}</span> <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">WiaEvent</span> <span class="o">*</span><span class="n">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">;</span>

<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
<span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"testEvent"</span><span class="o">);</span>

<span class="n">Event</span> <span class="n">event</span> <span class="o">=</span> <span class="n">Event</span><span class="o">.</span><span class="na">publish</span><span class="o">(</span><span class="n">params</span><span class="o">);</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="n">wia</span><span class="o">.</span><span class="n">secret_key</span> <span class="o">=</span> <span class="s">"secret_key"</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">wia</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s">"event_name"</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="mi">100</span>
            <span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns status 200 OK when event has been created.</p>
</blockquote>

<p>This endpoint publishes an event.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.wia.io/v1/events</code></p>

<h3 id="mqtt-topic">MQTT Topic</h3>

<p><code class="prettyprint">devices/:deviceId/events/:eventName</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>✓</td>
</tr>
<tr>
<td>User</td>
<td>x</td>
</tr>
<tr>
<td>Organisation</td>
<td>x</td>
</tr>
<tr>
<td>Customer</td>
<td>x</td>
</tr>
</tbody></table>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Name of the event.</td>
</tr>
<tr>
<td>data</td>
<td>Any</td>
<td>Data associated with the event. A number, string or object can be passed into this.</td>
</tr>
<tr>
<td>file</td>
<td>Buffer</td>
<td>File to be associated with the event.</td>
</tr>
<tr>
<td>timestamp</td>
<td>Timestamp</td>
<td>Timestamp of the event in milliseconds.</td>
</tr>
</tbody></table>

<h2 id="subscribe-to-events">Subscribe to events</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell"><code>Not supported
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="c1">// For all events use:</span>
<span class="nx">wia</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">device</span><span class="p">:</span> <span class="s2">"dev_23idgksdf0smd"</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>

<span class="c1">// For a specific event use:</span>
<span class="nx">wia</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">device</span><span class="p">:</span> <span class="s2">"dev_23idgksdf0smd"</span><span class="p">,</span>
      <span class="na">name</span><span class="p">:</span> <span class="s2">"temperature"</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>

<span class="c1">// For all events use:
</span><span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">subscribeToEvents</span><span class="p">:</span><span class="err">@</span><span class="p">{</span>
  <span class="s">@"device"</span><span class="o">:</span> <span class="s">@"dev_23idgksdf0smd"</span>
<span class="p">}];</span>

<span class="c1">// For a specific event use:
</span><span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">subscribeToEvents</span><span class="p">:</span><span class="err">@</span><span class="p">{</span>
  <span class="s">@"device"</span><span class="o">:</span> <span class="s">@"dev_23idgksdf0smd"</span><span class="p">,</span>
  <span class="s">@"name"</span><span class="o">:</span> <span class="s">@"temperature"</span>
<span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">connectToStream</span><span class="o">();</span>

<span class="c1">//for specific events:</span>
<span class="kd">final</span> <span class="n">String</span> <span class="n">eventName</span> <span class="o">=</span> <span class="s">"myFirstEvent"</span><span class="o">;</span>
<span class="n">Event</span><span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="s">"device_id"</span><span class="o">,</span> <span class="n">eventName</span><span class="o">,</span> <span class="k">new</span> <span class="n">WiaEventSubscribeCallback</span><span class="o">(){</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">received</span><span class="o">(</span><span class="n">Event</span> <span class="n">event</span><span class="o">){</span>
    <span class="n">logger</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="s">"Got event, Timestamp: "</span> <span class="o">+</span> <span class="n">event</span><span class="o">.</span><span class="na">getTimestamp</span><span class="o">());</span>
    <span class="o">}</span>
  <span class="o">});</span>

<span class="c1">//for all events:</span>
<span class="n">Event</span><span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="s">"device_id"</span><span class="o">,</span> <span class="k">new</span> <span class="n">WiaEventSubscribeCallback</span><span class="o">(){</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">received</span><span class="o">(</span><span class="n">Event</span> <span class="n">event</span><span class="o">){</span>
      <span class="n">logger</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="s">"Got event, Timestamp: "</span> <span class="o">+</span> <span class="n">event</span><span class="o">.</span><span class="na">getTimestamp</span><span class="o">());</span>
    <span class="o">}</span>
  <span class="o">});</span>
</code></pre>
<pre class="highlight python"><code>
<span class="kn">import</span> <span class="nn">wia</span>

<span class="n">wia</span><span class="o">.</span><span class="n">Stream</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">example_func</span><span class="p">(</span><span class="n">payload</span><span class="p">):</span>
  <span class="c">#payload contains event messages</span>
  <span class="k">pass</span>

<span class="c">#for all events use:</span>
<span class="n">wia</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span>
    <span class="n">device</span><span class="o">=</span><span class="s">"device_id"</span><span class="p">,</span>
    <span class="n">func</span><span class="o">=</span><span class="n">example_func</span>
  <span class="p">)</span>

<span class="c">#for specific events use:</span>
<span class="n">wia</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span>
    <span class="n">device</span><span class="o">=</span><span class="s">"device_id"</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s">"event_name"</span><span class="p">,</span>
    <span class="n">func</span><span class="o">=</span><span class="n">example_func</span>
  <span class="p">)</span>

</code></pre>

<blockquote>
<p>The above command returns an Event object when one has been received.</p>
</blockquote>

<p>This endpoint subscribes to events.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">Not supported.</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>✓</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>✓</td>
</tr>
</tbody></table>

<h2 id="unsubscribe-from-events">Unsubscribe from events</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell"><code>Not supported
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="c1">// For all device events use:</span>
<span class="nx">wia</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">device</span><span class="p">:</span> <span class="s2">"dev_23idgksdf0smd"</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
       <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>

<span class="c1">// For a specific device event use:</span>
<span class="nx">wia</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">device</span><span class="p">:</span> <span class="s2">"dev_23idgksdf0smd"</span><span class="p">,</span>
      <span class="na">name</span><span class="p">:</span> <span class="s2">"temperature"</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
       <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>

<span class="c1">// For all events use:
</span><span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">unsubscribeFromEvents</span><span class="p">:</span><span class="err">@</span><span class="p">{</span>
  <span class="s">@"device"</span><span class="o">:</span> <span class="s">@"dev_23idgksdf0smd"</span>
<span class="p">}];</span>

<span class="c1">// For a specific event use:
</span><span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">unsubscribeFromEvents</span><span class="p">:</span><span class="err">@</span><span class="p">{</span>
  <span class="s">@"device"</span><span class="o">:</span> <span class="s">@"dev_23idgksdf0smd"</span><span class="p">,</span>
  <span class="s">@"name"</span><span class="o">:</span> <span class="s">@"temperature"</span>
<span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>

<span class="c1">//for specific events:</span>
<span class="kd">final</span> <span class="n">String</span> <span class="n">eventName</span> <span class="o">=</span> <span class="s">"someEvent"</span><span class="o">;</span>
<span class="n">Event</span><span class="o">.</span><span class="na">unsubscribe</span><span class="o">(</span><span class="s">"device_id"</span><span class="o">,</span> <span class="n">eventName</span><span class="o">);</span>

<span class="c1">//for all events:</span>
<span class="n">Event</span><span class="o">.</span><span class="na">unsubscribe</span><span class="o">(</span><span class="s">"device_id"</span><span class="o">);</span>

</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="c">#for all events use</span>
<span class="n">wia</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">unsubscribe</span><span class="p">(</span>
    <span class="n">device</span><span class="o">=</span><span class="s">"device_id"</span><span class="p">,</span>
  <span class="p">)</span>

<span class="c">#for specific events use:</span>
<span class="n">wia</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">unsubscribe</span><span class="p">(</span>
    <span class="n">device</span><span class="o">=</span><span class="s">"device_id"</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s">"event_name"</span>
  <span class="p">)</span>

</code></pre>

<blockquote>
<p>The above command returns an Event object when one has been received.</p>
</blockquote>

<p>This endpoint unsubscribes from device events.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">Not supported.</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>✓</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>✓</td>
</tr>
</tbody></table>

<h2 id="list-events">List events</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/events"</span>
    -H <span class="s2">"Authorization: Bearer token"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">list</span><span class="p">({</span>
    <span class="na">device</span><span class="p">:</span> <span class="s2">"dev_23idgksdf0smd"</span><span class="p">,</span>
    <span class="na">limit</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="na">page</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">listEvents</span><span class="p">:</span><span class="err">@</span><span class="p">{</span>
    <span class="s">@"device"</span><span class="o">:</span> <span class="s">@"dev_23idgksdf0smd"</span><span class="p">,</span>
    <span class="s">@"limit"</span><span class="o">:</span> <span class="err">@</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
    <span class="s">@"page"</span><span class="o">:</span> <span class="err">@</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">}</span> <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSArray</span> <span class="o">*</span><span class="n">events</span><span class="p">,</span> <span class="n">NSNumber</span> <span class="o">*</span><span class="n">count</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.wia.models.EventCollection</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>

<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
<span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"limit"</span><span class="o">,</span> <span class="mi">10</span><span class="o">);</span>

<span class="n">EventCollection</span> <span class="n">EventCollection</span> <span class="o">=</span> <span class="n">Event</span><span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">params</span><span class="o">);</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">wia</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span>
        <span class="n">device</span><span class="o">=</span><span class="s">"device_id"</span><span class="p">,</span>
        <span class="n">limit</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
        <span class="n">page</span><span class="o">=</span><span class="mi">0</span>
        <span class="p">)</span>

</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"events"</span><span class="err">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev_ms8dfgknLA9k"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"temperature"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="mf">25.4</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440683447764</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev_bijgwe29nNlop"</span><span class="p">,</span><span class="w">   
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"location"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">54.60247</span><span class="p">,</span><span class="w">
        </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-5.92717</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440683234546</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"count"</span><span class="err">:</span><span class="w"> </span><span class="mi">45</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a list of events for a device.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.wia.io/v1/events</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>✓</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>✓</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>device</td>
<td>String</td>
<td>-</td>
<td>Unique identifier of device to get events for. Required.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>-</td>
<td>Name of the event to return.</td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>20</td>
<td>Number of devices to return. Max value 200.</td>
</tr>
<tr>
<td>page</td>
<td>Number</td>
<td>0</td>
<td>First page is 0.</td>
</tr>
<tr>
<td>order</td>
<td>String</td>
<td>&#39;timestamp&rsquo;</td>
<td>Field to sort by. Valid values include name and lastUpdated.</td>
</tr>
<tr>
<td>sort</td>
<td>String</td>
<td>&#39;desc&rsquo;</td>
<td>Either ascending (asc) or descending (desc).</td>
</tr>
<tr>
<td>since</td>
<td>Timestamp</td>
<td>-</td>
<td>Timestamp to start from.</td>
</tr>
<tr>
<td>until</td>
<td>Timestamp</td>
<td>-</td>
<td>Timestamp to return up until.</td>
</tr>
</tbody></table>

<h1 id="sensors">Sensors</h1>

<h2 id="the-sensor-object">The sensor object</h2>

<blockquote>
<p>Example of an Sensor object with single data value</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sensorName"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440597871365</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Example of an Sensor object with object in data</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sensorName"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440597871654</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>All sensors are made up of the same object structure.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Name of the sensor. Alphanumeric characters only.</td>
</tr>
<tr>
<td>data</td>
<td>Any</td>
<td>Data associated with the sensor. A number, string or object can be passed into this.</td>
</tr>
<tr>
<td>timestamp</td>
<td>Timestamp</td>
<td>Timestamp of the sensor in milliseconds.</td>
</tr>
</tbody></table>

<h2 id="publish-an-sensor">Publish an sensor</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl https://api.wia.io/v1/sensors <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -X POST -d <span class="s1">'{"name":"temperature","data":21.5}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">sensors</span><span class="p">.</span><span class="nx">publish</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="s2">"temperature"</span><span class="p">,</span>
      <span class="na">data</span><span class="p">:</span> <span class="mf">21.5</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">published</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">published</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Sensor published."</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">publishSensor</span><span class="p">:</span><span class="o">:</span><span class="err">@</span><span class="p">{</span>
    <span class="s">@"name"</span><span class="o">:</span> <span class="s">@"temperature"</span><span class="p">,</span>
    <span class="s">@"data"</span><span class="o">:</span> <span class="err">@</span><span class="p">(</span><span class="mi">21</span><span class="p">.</span><span class="mi">5</span><span class="p">)</span>
<span class="p">}</span> <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">WiaSensor</span> <span class="o">*</span><span class="n">sensor</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>

<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
<span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"temperature"</span><span class="o">);</span>
<span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"data"</span><span class="o">,</span> <span class="mf">21.453</span><span class="o">);</span>

<span class="n">Sensor</span> <span class="n">sensor</span> <span class="o">=</span> <span class="n">Sensor</span><span class="o">.</span><span class="na">publish</span><span class="o">(</span><span class="n">params</span><span class="o">);</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">wia</span><span class="o">.</span><span class="n">Sensor</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s">"sensor_name"</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="mi">100</span>
  <span class="p">)</span>

</code></pre>

<blockquote>
<p>The above command returns status 200 OK when sensor has been created.</p>
</blockquote>

<p>This endpoint publishes a sensor event.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.wia.io/v1/sensors</code></p>

<h3 id="mqtt-topic">MQTT Topic</h3>

<p><code class="prettyprint">devices/:deviceId/sensors/:sensorName</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>✓</td>
</tr>
<tr>
<td>User</td>
<td>x</td>
</tr>
<tr>
<td>Organisation</td>
<td>x</td>
</tr>
<tr>
<td>Customer</td>
<td>x</td>
</tr>
</tbody></table>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Name of the sensor.</td>
</tr>
<tr>
<td>data</td>
<td>Any</td>
<td>Data associated with the sensor. A number, string or object can be passed into this.</td>
</tr>
<tr>
<td>timestamp</td>
<td>Timestamp</td>
<td>Timestamp of the sensor in milliseconds.</td>
</tr>
</tbody></table>

<h2 id="subscribe-to-sensors">Subscribe to sensors</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell"><code>Not supported
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="c1">// For all sensors use:</span>
<span class="nx">wia</span><span class="p">.</span><span class="nx">sensors</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">device</span><span class="p">:</span> <span class="s2">"dev_23idgksdf0smd"</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">sensor</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">sensor</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">sensor</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>

<span class="c1">// For a specific sensor use:</span>
<span class="nx">wia</span><span class="p">.</span><span class="nx">sensors</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">device</span><span class="p">:</span> <span class="s2">"dev_23idgksdf0smd"</span><span class="p">,</span>
      <span class="na">name</span><span class="p">:</span> <span class="s2">"temperature"</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">sensor</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">sensor</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">sensor</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>

<span class="c1">// For all sensors use:
</span><span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">subscribeToSensors</span><span class="p">:</span><span class="err">@</span><span class="p">{</span>
    <span class="s">@"device"</span><span class="o">:</span> <span class="s">@"dev_23idgksdf0smd"</span>
<span class="p">}];</span>

<span class="c1">// For a specific sensor use:
</span><span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">subscribeToSensors</span><span class="p">:</span><span class="err">@</span><span class="p">{</span>
    <span class="s">@"device"</span><span class="o">:</span> <span class="s">@"dev_23idgksdf0smd"</span><span class="p">,</span>
    <span class="s">@"name"</span><span class="o">:</span> <span class="s">@"temperature"</span>
<span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">connectToStream</span><span class="o">();</span>

<span class="c1">//for specific sensors:</span>
<span class="kd">final</span> <span class="n">String</span> <span class="n">sensorName</span> <span class="o">=</span> <span class="s">"temperature"</span><span class="o">;</span>
<span class="n">Sensor</span><span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="s">"device_id"</span><span class="o">,</span> <span class="n">sensorName</span><span class="o">,</span> <span class="k">new</span> <span class="n">WiaSensorSubscribeCallback</span><span class="o">(){</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">received</span><span class="o">(</span><span class="n">Sensor</span> <span class="n">sensor</span><span class="o">){</span>
    <span class="n">logger</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="s">"Got sensor, Timestamp: "</span> <span class="o">+</span> <span class="n">sensor</span><span class="o">.</span><span class="na">getTimestamp</span><span class="o">());</span>
    <span class="o">}</span>
  <span class="o">});</span>

<span class="c1">//for all sensors:</span>
<span class="n">Sensor</span><span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="s">"device_id"</span><span class="o">,</span> <span class="k">new</span> <span class="n">WiaSensorSubscribeCallback</span><span class="o">(){</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">received</span><span class="o">(</span><span class="n">Sensor</span> <span class="n">sensor</span><span class="o">){</span>
      <span class="n">logger</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="s">"Got sensor, Timestamp: "</span> <span class="o">+</span> <span class="n">sensor</span><span class="o">.</span><span class="na">getTimestamp</span><span class="o">());</span>
    <span class="o">}</span>
  <span class="o">});</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="k">def</span> <span class="nf">example_func</span><span class="p">(</span><span class="n">payload</span><span class="p">):</span>
  <span class="c">#payload will have sensor messages</span>
  <span class="k">pass</span>

<span class="c">#for all sensors use:</span>
<span class="n">wia</span><span class="o">.</span><span class="n">Sensor</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span>
    <span class="n">device</span><span class="o">=</span><span class="s">"device_id"</span><span class="p">,</span>
    <span class="n">func</span><span class="o">=</span><span class="n">example_func</span>
  <span class="p">)</span>

<span class="c">#for specific sensors use:</span>
<span class="n">wia</span><span class="o">.</span><span class="n">Sensor</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span>
    <span class="n">device</span><span class="o">=</span><span class="s">"device_id"</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s">"sensor_name"</span><span class="p">,</span>
    <span class="n">func</span><span class="o">=</span><span class="n">example_func</span>
  <span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns an Sensor object when one has been received.</p>
</blockquote>

<p>This endpoint subscribes to sensor events.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">Not supported.</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>✓</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>✓</td>
</tr>
</tbody></table>

<h2 id="unsubscribe-from-sensors">Unsubscribe from sensors</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell"><code>Not supported
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key'</span><span class="p">);</span>

<span class="c1">// For all device sensors use:</span>
<span class="nx">wia</span><span class="p">.</span><span class="nx">sensors</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">device</span><span class="p">:</span> <span class="s2">"dev_23idgksdf0smd"</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
       <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>

<span class="c1">// For a specific device sensor use:</span>
<span class="nx">wia</span><span class="p">.</span><span class="nx">sensors</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">device</span><span class="p">:</span> <span class="s2">"dev_23idgksdf0smd"</span><span class="p">,</span>
      <span class="na">name</span><span class="p">:</span> <span class="s2">"temperature"</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
       <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>

<span class="c1">// For all sensors use:
</span><span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">unsubscribeFromSensors</span><span class="p">:</span><span class="s">@"dev_23idgksdf0smd"</span>
  <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>

<span class="c1">// For a specific sensor use:
</span><span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">unsubscribeFromSensors</span><span class="p">:</span><span class="s">@"dev_23idgksdf0smd"</span>
  <span class="nf">name</span><span class="p">:</span><span class="s">@"temperature"</span>
  <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>

<span class="c1">//for specific sensors:</span>
<span class="kd">final</span> <span class="n">String</span> <span class="n">sensorName</span> <span class="o">=</span> <span class="s">"temperature"</span><span class="o">;</span>
<span class="n">Sensor</span><span class="o">.</span><span class="na">unsubscribe</span><span class="o">(</span><span class="s">"device_id"</span><span class="o">,</span> <span class="n">sensorName</span><span class="o">);</span>

<span class="c1">//for all sensors:</span>
<span class="n">Sensor</span><span class="o">.</span><span class="na">unsubscribe</span><span class="o">(</span><span class="s">"device_id"</span><span class="o">);</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="c">#for all sensors use:</span>
<span class="n">wia</span><span class="o">.</span><span class="n">Sensor</span><span class="o">.</span><span class="n">unsubscribe</span><span class="p">(</span>
    <span class="n">device</span><span class="o">=</span><span class="s">"device_id"</span>
  <span class="p">)</span>

<span class="c">#for a specific sensor use:</span>
<span class="n">wia</span><span class="o">.</span><span class="n">Sensor</span><span class="o">.</span><span class="n">unsubscribe</span><span class="p">(</span>
    <span class="n">device</span><span class="o">=</span><span class="s">"device_id"</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s">"sensor_name"</span>
  <span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns an Sensor object when one has been received.</p>
</blockquote>

<p>This endpoint unsubscribes from device sensors.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">Not supported.</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>✓</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>✓</td>
</tr>
</tbody></table>

<h2 id="list-sensors">List sensors</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/sensors"</span>
    -H <span class="s2">"Authorization: Bearer token"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">sensors</span><span class="p">.</span><span class="nx">list</span><span class="p">({</span>
    <span class="na">device</span><span class="p">:</span> <span class="s2">"dev_23idgksdf0smd"</span><span class="p">,</span>
    <span class="na">limit</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="na">page</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">listSensors</span><span class="p">:</span><span class="s">@"dev_23idgksdf0smd"</span>
  <span class="nf">params</span><span class="p">:</span> <span class="err">@</span><span class="p">{</span>
    <span class="s">@"limit"</span><span class="o">:</span> <span class="err">@</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSArray</span> <span class="o">*</span><span class="n">sensors</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.wia.models.SensorCollection</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>

<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
<span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"device"</span><span class="o">,</span> <span class="s">"device_id"</span><span class="o">);</span>
<span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"limit"</span><span class="o">,</span> <span class="mi">10</span><span class="o">);</span>

<span class="n">SensorCollection</span> <span class="n">SensorCollection</span> <span class="o">=</span> <span class="n">Sensor</span><span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">params</span><span class="o">);</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">wia</span><span class="o">.</span><span class="n">Sensor</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span>
    <span class="n">device</span><span class="o">=</span><span class="s">"device_id"</span><span class="p">,</span>
    <span class="n">limit</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">page</span><span class="o">=</span><span class="mi">0</span>
  <span class="p">)</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev_ms8dfgknLA9k"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"temperature"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="mf">25.4</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440683447764</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev_bijgwe29nNlop"</span><span class="p">,</span><span class="w">   
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"humidity"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440683234546</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a list of sensor events for a device.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.wia.io/v1/sensors</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>✓</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>✓</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>device</td>
<td>String</td>
<td>-</td>
<td>Unique identifier of device to get sensors for. Required.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>-</td>
<td>Name of the sensor to return events for.</td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>20</td>
<td>Number of devices to return. Max value 200.</td>
</tr>
<tr>
<td>page</td>
<td>Number</td>
<td>0</td>
<td>First page is 0.</td>
</tr>
<tr>
<td>order</td>
<td>String</td>
<td>&#39;timestamp&rsquo;</td>
<td>Field to sort by. Valid values include name and lastUpdated.</td>
</tr>
<tr>
<td>sort</td>
<td>String</td>
<td>&#39;desc&rsquo;</td>
<td>Either ascending (asc) or descending (desc).</td>
</tr>
<tr>
<td>since</td>
<td>Timestamp</td>
<td>-</td>
<td>Timestamp to start from.</td>
</tr>
<tr>
<td>until</td>
<td>Timestamp</td>
<td>-</td>
<td>Timestamp to return up until.</td>
</tr>
</tbody></table>

<h1 id="locations">Locations</h1>

<h2 id="the-location-object">The location object</h2>

<blockquote>
<p>Example of an Event object</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B7EB5EAA-9166-422E-8482-DC41EFD076B2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">53.349805</span><span class="p">,</span><span class="w">
    </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-6.260310</span><span class="p">,</span><span class="w">
    </span><span class="nt">"altitude"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440597871365</span><span class="p">,</span><span class="w">
    </span><span class="nt">"receivedTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440597871365</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>All events are made up of the same object structure.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Unique identifier for the location object.</td>
</tr>
<tr>
<td>latitude</td>
<td>Number</td>
<td>Latitude of the location.</td>
</tr>
<tr>
<td>longitude</td>
<td>Number</td>
<td>Longitude of the location.</td>
</tr>
<tr>
<td>altitude</td>
<td>Number</td>
<td>Altitude of the location.</td>
</tr>
<tr>
<td>timestamp</td>
<td>Timestamp</td>
<td>Timestamp of the location in milliseconds.</td>
</tr>
<tr>
<td>receivedTimestamp</td>
<td>Timestamp</td>
<td>Received timestamp of the location in milliseconds.</td>
</tr>
</tbody></table>

<h2 id="publish-a-location">Publish a location</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl https://api.wia.io/v1/locations <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -X POST -d <span class="s1">'{"latitude":53.349805,"longitude":-6.260310}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">locations</span><span class="p">.</span><span class="nx">publish</span><span class="p">(</span>
    <span class="p">{</span> <span class="s2">"latitude"</span><span class="p">:</span> <span class="mf">53.349805</span><span class="p">,</span>
      <span class="s2">"longitude"</span><span class="p">:</span> <span class="o">-</span><span class="mf">6.260310</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">published</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">published</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Location published."</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">publishLocation</span><span class="p">:</span> <span class="err">@</span><span class="p">{</span>
    <span class="s">@"latitude"</span><span class="o">:</span> <span class="err">@</span><span class="p">(</span><span class="mi">53</span><span class="p">.</span><span class="mi">349805</span><span class="p">),</span>
    <span class="s">@"longitude"</span><span class="o">:</span> <span class="err">@</span><span class="p">(</span><span class="o">-</span><span class="mi">6</span><span class="p">.</span><span class="mi">260310</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">WiaLocation</span> <span class="o">*</span><span class="n">location</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>

<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
<span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"longitude"</span><span class="o">,</span> <span class="o">-</span><span class="mf">6.260310</span><span class="o">);</span>
<span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"latitude"</span><span class="o">,</span> <span class="mf">53.349805</span><span class="o">);</span>

<span class="n">Location</span> <span class="n">location</span> <span class="o">=</span> <span class="n">Location</span><span class="o">.</span><span class="na">publish</span><span class="o">(</span><span class="n">params</span><span class="o">);</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">wia</span><span class="o">.</span><span class="n">Location</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
    <span class="n">longitude</span><span class="o">=-</span><span class="mf">6.260310</span><span class="p">,</span>
    <span class="n">latitude</span><span class="o">=</span><span class="mf">53.349805</span>
  <span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns status 200 OK when location has been published.</p>
</blockquote>

<p>This endpoint publishes a location.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.wia.io/v1/locations</code></p>

<h3 id="mqtt-topic">MQTT Topic</h3>

<p><code class="prettyprint">devices/:deviceId/locations</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>✓</td>
</tr>
<tr>
<td>User</td>
<td>x</td>
</tr>
<tr>
<td>Organisation</td>
<td>x</td>
</tr>
<tr>
<td>Customer</td>
<td>x</td>
</tr>
</tbody></table>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>latitude</td>
<td>Number</td>
<td>Latitude of the location.</td>
</tr>
<tr>
<td>longitude</td>
<td>Number</td>
<td>Longitude of the location.</td>
</tr>
<tr>
<td>altitude</td>
<td>Number</td>
<td>Altitude of the location.</td>
</tr>
</tbody></table>

<h2 id="subscribe-to-locations">Subscribe to locations</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell"><code>Not supported
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">locations</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">device</span><span class="p">:</span> <span class="s2">"dev_23idgksdf0smd"</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">location</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">location</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">location</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>

</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>

<span class="c1">// For all events use:
</span><span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">subscribeToLocations</span><span class="p">:</span><span class="s">@"dev_23idgksdf0smd"</span>
  <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">WiaLocation</span> <span class="o">*</span><span class="n">location</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret key"</span><span class="o">);</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">connectToStream</span><span class="o">();</span>

<span class="n">Location</span><span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="s">"device_id"</span><span class="o">,</span> <span class="k">new</span> <span class="n">WiaLocationSubscribeCallback</span><span class="o">(){</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">received</span><span class="o">(</span><span class="n">Location</span> <span class="n">location</span><span class="o">){</span>
      <span class="n">logger</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="s">"Got location, Timestamp: "</span> <span class="o">+</span> <span class="n">location</span><span class="o">.</span><span class="na">getTimestamp</span><span class="o">());</span>
    <span class="o">}</span>
  <span class="o">});</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="k">def</span> <span class="nf">example_func</span><span class="p">(</span><span class="n">payload</span><span class="p">):</span>
  <span class="c">#payload will contain location messages</span>
  <span class="k">pass</span>

<span class="n">wia</span><span class="o">.</span><span class="n">Location</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span>
    <span class="n">device</span><span class="o">=</span><span class="s">"device_id"</span><span class="p">,</span>
    <span class="n">func</span><span class="o">=</span><span class="n">example_func</span>
  <span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns a Location object when one has been received.</p>
</blockquote>

<p>This endpoint subscribes to locations.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">Not supported.</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>✓</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>✓</td>
</tr>
</tbody></table>

<h2 id="unsubscribe-from-locations">Unsubscribe from locations</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell"><code>Not supported
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">locations</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">device</span><span class="p">:</span> <span class="s2">"dev_23idgksdf0smd"</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
       <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>

</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>

<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">unsubscribeFromLocations</span><span class="p">:</span><span class="s">@"dev_23idgksdf0smd"</span>
  <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>

<span class="n">Location</span><span class="o">.</span><span class="na">unsubscribe</span><span class="o">(</span><span class="s">"device_id"</span><span class="o">);</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="n">wia</span><span class="o">.</span><span class="n">Location</span><span class="o">.</span><span class="n">unsubscribe</span><span class="p">(</span>
    <span class="n">device</span><span class="o">=</span><span class="s">"device_id"</span>
  <span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command unsubscribe from devices locations.</p>
</blockquote>

<p>This endpoint unsubscribes from device locations.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">Not supported.</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>✓</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>✓</td>
</tr>
</tbody></table>

<h2 id="list-locations">List locations</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/locations"</span>
    -H <span class="s2">"Authorization: Bearer token"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">locations</span><span class="p">.</span><span class="nx">list</span><span class="p">({</span>
    <span class="na">device</span><span class="p">:</span> <span class="s2">"dev_23idgksdf0smd"</span><span class="p">,</span>
    <span class="na">limit</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="na">page</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">listLocations</span><span class="p">:</span><span class="s">@"dev_23idgksdf0smd"</span>
  <span class="nf">params</span><span class="p">:</span> <span class="err">@</span><span class="p">{</span>
    <span class="s">@"limit"</span><span class="o">:</span> <span class="err">@</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSArray</span> <span class="o">*</span><span class="n">locations</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.wia.models.LocationCollection</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>

<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
<span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"device"</span><span class="o">,</span> <span class="s">"device_id"</span><span class="o">);</span>
<span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"limit"</span><span class="o">,</span> <span class="mi">10</span><span class="o">);</span>

<span class="n">LocationCollection</span> <span class="n">LocationsCollection</span> <span class="o">=</span> <span class="n">Location</span><span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">params</span><span class="o">);</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="n">wia</span><span class="o">.</span><span class="n">Location</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span>
    <span class="n">device</span><span class="o">=</span><span class="s">"device_name"</span><span class="p">,</span>
    <span class="n">limit</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">page</span><span class="o">=</span><span class="mi">0</span>
  <span class="p">)</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B7EB5EAA-9166-422E-8482-DC41EFD076B2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">53.349805</span><span class="p">,</span><span class="w">
    </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-6.260310</span><span class="p">,</span><span class="w">
    </span><span class="nt">"altitude"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440597871365</span><span class="p">,</span><span class="w">
    </span><span class="nt">"receivedTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440597871365</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"F8F4184D-4374-41D3-B6A1-7291B522642D"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">53.349805</span><span class="p">,</span><span class="w">
    </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-6.260310</span><span class="p">,</span><span class="w">
    </span><span class="nt">"altitude"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440597871365</span><span class="p">,</span><span class="w">
    </span><span class="nt">"receivedTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440597871365</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"F6F9E75B-209B-4633-9FD2-71C006E37F7D"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">53.349805</span><span class="p">,</span><span class="w">
    </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-6.260310</span><span class="p">,</span><span class="w">
    </span><span class="nt">"altitude"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440597871365</span><span class="p">,</span><span class="w">
    </span><span class="nt">"receivedTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440597871365</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a list of locations for a device.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.wia.io/v1/locations</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>✓</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>✓</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>device</td>
<td>String</td>
<td>-</td>
<td>Unique identifier of device to get locations for. Required.</td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>20</td>
<td>Number of devices to return. Max value 200.</td>
</tr>
<tr>
<td>page</td>
<td>Number</td>
<td>0</td>
<td>First page is 0.</td>
</tr>
<tr>
<td>order</td>
<td>String</td>
<td>&#39;timestamp&rsquo;</td>
<td>Field to sort by. Valid values include name and lastUpdated.</td>
</tr>
<tr>
<td>sort</td>
<td>String</td>
<td>&#39;desc&rsquo;</td>
<td>Either ascending (asc) or descending (desc).</td>
</tr>
<tr>
<td>since</td>
<td>Timestamp</td>
<td>-</td>
<td>Timestamp to start from.</td>
</tr>
<tr>
<td>until</td>
<td>Timestamp</td>
<td>-</td>
<td>Timestamp to return up until.</td>
</tr>
</tbody></table>

<h1 id="logs">Logs</h1>

<h2 id="the-log-object">The log object</h2>

<blockquote>
<p>Example of an Log object</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"warning"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Memory usage too high."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"memory"</span><span class="p">:</span><span class="w"> </span><span class="mi">425</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440597871365</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>All logs are made up of the same object structure.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>level</td>
<td>String</td>
<td>Level of the log. Only &#39;fatal&rsquo;,&#39;error&rsquo;,&#39;warn&rsquo;,&#39;info&rsquo;,&#39;debug&rsquo; or &#39;trace&rsquo; allowed.</td>
</tr>
<tr>
<td>message</td>
<td>String</td>
<td>Message of the log</td>
</tr>
<tr>
<td>data</td>
<td>Any</td>
<td>Data associated with the log. A number, string or object can be passed into this.</td>
</tr>
<tr>
<td>timestamp</td>
<td>Timestamp</td>
<td>Timestamp of the event in milliseconds.</td>
</tr>
</tbody></table>

<h2 id="publish-a-log">Publish a log</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl https://api.wia.io/v1/logs <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -X POST -d <span class="s1">'{"level":"info","message":"message"}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">logs</span><span class="p">.</span><span class="nx">publish</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">level</span><span class="p">:</span> <span class="s2">"info"</span><span class="p">,</span>
      <span class="na">message</span><span class="p">:</span> <span class="s2">"message"</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">published</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">published</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Log published."</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">publishLog</span><span class="p">:</span><span class="s">@"level"</span>
  <span class="nf">message</span><span class="p">:</span> <span class="s">@"My first log message"</span>
  <span class="nf">data</span><span class="p">:</span> <span class="err">@</span><span class="p">{</span>
    <span class="s">@"cpu"</span><span class="o">:</span> <span class="s">@"1.5"</span>
  <span class="p">}</span>
  <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>

<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
<span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"level"</span><span class="o">,</span> <span class="s">"info"</span><span class="o">);</span>
<span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"message"</span><span class="o">,</span> <span class="s">"test"</span><span class="o">);</span>

<span class="n">Log</span> <span class="n">log</span> <span class="o">=</span> <span class="n">Log</span><span class="o">.</span><span class="na">publish</span><span class="o">(</span><span class="n">params</span><span class="o">);</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">wia</span><span class="o">.</span><span class="n">Log</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
          <span class="n">level</span><span class="o">=</span><span class="s">"info"</span><span class="p">,</span>
          <span class="n">message</span><span class="o">=</span><span class="s">"example message"</span>
          <span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns status 200 OK when log has been created.</p>
</blockquote>

<p>This endpoint publishes a log. Requires a Device token.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.wia.io/v1/logs</code></p>

<h3 id="mqtt-topic">MQTT Topic</h3>

<p><code class="prettyprint">devices/:deviceId/logs/:logLevel</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>✓</td>
</tr>
<tr>
<td>User</td>
<td>x</td>
</tr>
<tr>
<td>Organisation</td>
<td>x</td>
</tr>
<tr>
<td>Customer</td>
<td>x</td>
</tr>
</tbody></table>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>level</td>
<td>String</td>
<td>Level of the log. Only &#39;fatal&rsquo;,&#39;error&rsquo;,&#39;warn&rsquo;,&#39;info&rsquo;,&#39;debug&rsquo; or &#39;trace&rsquo; allowed.</td>
</tr>
<tr>
<td>message</td>
<td>String</td>
<td>Message of the log</td>
</tr>
<tr>
<td>data</td>
<td>Any</td>
<td>Data associated with the log. A number, string or object can be passed into this.</td>
</tr>
<tr>
<td>timestamp</td>
<td>Timestamp</td>
<td>Timestamp of the log in milliseconds.</td>
</tr>
</tbody></table>

<h2 id="subscribe-to-logs">Subscribe to logs</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell"><code>Not supported
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="c1">// For all logs use:</span>
<span class="nx">wia</span><span class="p">.</span><span class="nx">logs</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">device</span><span class="p">:</span> <span class="s2">"dev_kndjg832hjdfg"</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">log</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">log</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">log</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>

<span class="c1">// For a specific log level use:</span>
<span class="nx">wia</span><span class="p">.</span><span class="nx">logs</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">device</span><span class="p">:</span> <span class="s2">"dev_kndjg832hjdfg"</span><span class="p">,</span>
      <span class="na">level</span><span class="p">:</span> <span class="s2">"level"</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">log</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">log</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">log</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>

<span class="c1">// For all logs use:
</span><span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">subscribeToLogs</span><span class="p">:</span><span class="s">@"id"</span>
  <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">WiaDeviceLog</span> <span class="o">*</span><span class="n">log</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>

<span class="c1">// For a specific log level use:
</span><span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">subscribeToLogs</span><span class="p">:</span><span class="s">@"id"</span>
  <span class="nf">level</span><span class="p">:</span><span class="s">@"level"</span>
  <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">WiaDeviceLog</span> <span class="o">*</span><span class="n">log</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">connectToStream</span><span class="o">();</span>

<span class="c1">//for specific log level:</span>
<span class="kd">final</span> <span class="n">String</span> <span class="n">logLevel</span> <span class="o">=</span> <span class="s">"info"</span><span class="o">;</span>
<span class="n">Log</span><span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="s">"device_id"</span><span class="o">,</span> <span class="n">logLevel</span><span class="o">,</span> <span class="k">new</span> <span class="n">WiaLogSubscribeCallback</span><span class="o">(){</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">received</span><span class="o">(</span><span class="n">Log</span> <span class="n">log</span><span class="o">){</span>
    <span class="n">logger</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="s">"Got log, Timestamp: "</span> <span class="o">+</span> <span class="n">log</span><span class="o">.</span><span class="na">getTimestamp</span><span class="o">());</span>
    <span class="o">}</span>
  <span class="o">});</span>

<span class="c1">//for all levels:</span>
<span class="n">Log</span><span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="s">"device_id"</span><span class="o">,</span> <span class="k">new</span> <span class="n">WiaLogSubscribeCallback</span><span class="o">(){</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">received</span><span class="o">(</span><span class="n">Log</span> <span class="n">log</span><span class="o">){</span>
      <span class="n">logger</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="s">"Got log, Timestamp: "</span> <span class="o">+</span> <span class="n">log</span><span class="o">.</span><span class="na">getTimestamp</span><span class="o">());</span>
    <span class="o">}</span>
  <span class="o">});</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="k">def</span> <span class="nf">example_func</span><span class="p">(</span><span class="n">payload</span><span class="p">):</span>
  <span class="c">#payload will have logs</span>
  <span class="k">pass</span>

<span class="c">#for all logs use:</span>
<span class="n">wia</span><span class="o">.</span><span class="n">Log</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span>
    <span class="n">device</span><span class="o">=</span><span class="s">"device_id"</span><span class="p">,</span>
    <span class="n">func</span><span class="o">=</span><span class="n">example_func</span>
  <span class="p">)</span>

<span class="c">#for a specific log level use:</span>
<span class="n">wia</span><span class="o">.</span><span class="n">Log</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span>
    <span class="n">device</span><span class="o">=</span><span class="s">"device_id"</span><span class="p">,</span>
    <span class="n">level</span><span class="o">=</span><span class="s">"level"</span><span class="p">,</span>
    <span class="n">func</span><span class="o">=</span><span class="n">example_func</span>
  <span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns a log object when one has been received.</p>
</blockquote>

<p>This endpoint subscribes to logs.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">Not supported.</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>✓</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>✓</td>
</tr>
</tbody></table>

<h2 id="unsubscribe-from-logs">Unsubscribe from logs</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell"><code>Not supported
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="c1">// For all device events use:</span>
<span class="nx">wia</span><span class="p">.</span><span class="nx">logs</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">device</span><span class="p">:</span> <span class="s2">"id"</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
       <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>

<span class="c1">// For a specific device event use:</span>
<span class="nx">wia</span><span class="p">.</span><span class="nx">logs</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">device</span><span class="p">:</span> <span class="s2">"id"</span><span class="p">,</span>
      <span class="na">level</span><span class="p">:</span> <span class="s2">"level"</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
       <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>

<span class="c1">// For all logs use:
</span><span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">unsubscribeFromLogs</span><span class="p">:</span><span class="s">@"id"</span>
  <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>

<span class="c1">// For a specific log level use:
</span><span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">unsubscribeFromLogs</span><span class="p">:</span><span class="s">@"id"</span>
  <span class="nf">level</span><span class="p">:</span><span class="s">@"level"</span>
  <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>

<span class="c1">//for specific levels:</span>
<span class="kd">final</span> <span class="n">String</span> <span class="n">logLevel</span> <span class="o">=</span> <span class="s">"info"</span><span class="o">;</span>
<span class="n">Log</span><span class="o">.</span><span class="na">unsubscribe</span><span class="o">(</span><span class="s">"device_id"</span><span class="o">,</span> <span class="n">logLevel</span><span class="o">);</span>

<span class="c1">//for all levels:</span>
<span class="n">Log</span><span class="o">.</span><span class="na">unsubscribe</span><span class="o">(</span><span class="s">"device_id"</span><span class="o">);</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="c">#for all logs use:</span>
<span class="n">wia</span><span class="o">.</span><span class="n">Log</span><span class="o">.</span><span class="n">unsubscribe</span><span class="p">(</span>
    <span class="n">device</span><span class="o">=</span><span class="s">"device_id"</span>
  <span class="p">)</span>
<span class="c">#for specific log level use:</span>
<span class="n">wia</span><span class="o">.</span><span class="n">Log</span><span class="o">.</span><span class="n">unsubscribe</span><span class="p">(</span>
    <span class="n">device</span><span class="o">=</span><span class="s">"device_id"</span><span class="p">,</span>
    <span class="n">level</span><span class="o">=</span><span class="s">"level"</span>
  <span class="p">)</span>
</code></pre>

<p>This endpoint unsubscribes from device logs.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">Not supported.</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>✓</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>✓</td>
</tr>
</tbody></table>

<h2 id="list-logs">List logs</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/logs"</span>
    -H <span class="s2">"Authorization: Bearer token"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">logs</span><span class="p">.</span><span class="nx">list</span><span class="p">({</span>
    <span class="na">device</span><span class="p">:</span> <span class="s2">"dev_ksdnf28bndfg"</span><span class="p">,</span>
    <span class="na">limit</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="na">page</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">listLogs</span><span class="p">:</span><span class="s">@"id"</span>
  <span class="nf">params</span><span class="p">:</span> <span class="err">@</span><span class="p">{</span>
    <span class="s">@"limit"</span><span class="o">:</span> <span class="err">@</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
    <span class="s">@"page"</span><span class="o">:</span> <span class="err">@</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSArray</span> <span class="o">*</span><span class="n">devices</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">import</span> <span class="nn">io.wia.Wia</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.wia.models.SensorCollection</span><span class="o">;</span>

<span class="n">Wia</span><span class="o">.</span><span class="na">setSecretKey</span><span class="o">(</span><span class="s">"secret_key"</span><span class="o">);</span>

<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
<span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"device"</span><span class="o">,</span> <span class="s">"device_id"</span><span class="o">);</span>
<span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"limit"</span><span class="o">,</span> <span class="mi">10</span><span class="o">);</span>

<span class="n">LogCollection</span> <span class="n">LogCollection</span> <span class="o">=</span> <span class="n">Log</span><span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">params</span><span class="o">);</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">wia</span><span class="o">.</span><span class="n">Log</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span>
          <span class="n">device</span><span class="o">=</span><span class="s">"device_id"</span><span class="p">,</span>
          <span class="n">limit</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
          <span class="n">page</span><span class="o">=</span><span class="mi">0</span>
        <span class="p">)</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev_ksd892MN9k12l"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"warning"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Memory usage too high."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"memory"</span><span class="p">:</span><span class="w"> </span><span class="mi">425</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440597871365</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev_ksd892MN9k12l"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"warning"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Memory usage too high."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"memory"</span><span class="p">:</span><span class="w"> </span><span class="mi">425</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440597871365</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a list of logs for a device.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.wia.io/v1/logs</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>✓</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>x</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>device</td>
<td>String</td>
<td>-</td>
<td>Unique identifier of device to get events for. Required.</td>
</tr>
<tr>
<td>level</td>
<td>String</td>
<td>-</td>
<td>Level of the log to return.</td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>20</td>
<td>Number of logs to return. Max value 200.</td>
</tr>
<tr>
<td>page</td>
<td>Number</td>
<td>0</td>
<td>First page is 0.</td>
</tr>
<tr>
<td>order</td>
<td>String</td>
<td>&#39;timestamp&rsquo;</td>
<td>Field to sort by.</td>
</tr>
<tr>
<td>sort</td>
<td>String</td>
<td>&#39;desc&rsquo;</td>
<td>Either ascending (asc) or descending (desc).</td>
</tr>
<tr>
<td>since</td>
<td>Timestamp</td>
<td>-</td>
<td>Timestamp to start from.</td>
</tr>
<tr>
<td>until</td>
<td>Timestamp</td>
<td>-</td>
<td>Timestamp to return up until.</td>
</tr>
</tbody></table>

<h1 id="functions">Functions</h1>

<h2 id="the-function-object">The function object</h2>

<blockquote>
<p>Example of a Function object</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"func_aba7812nsdfk"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"helloFunction"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"device"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev_gh8jfg9MASDu"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"enabledAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1445253805000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444995244000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1445253805000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>All functions are made up of the same object structure.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>device</td>
<td>String</td>
<td>Unique identifier for the function.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Name of the function.</td>
</tr>
<tr>
<td>isEnabled</td>
<td>Boolean</td>
<td>If the function is currently enabled or not.</td>
</tr>
<tr>
<td>device</td>
<td>Device</td>
<td>Device function is assigned to.</td>
</tr>
<tr>
<td>enabledAt</td>
<td>Timestamp</td>
<td>Timestamp in milliseconds of when the function was last enabled.</td>
</tr>
<tr>
<td>createdAt</td>
<td>Timestamp</td>
<td>Timestamp in milliseconds of when the function was initially created.</td>
</tr>
<tr>
<td>updatedAt</td>
<td>Timestamp</td>
<td>Timestamp in milliseconds of when the function was last updated.</td>
</tr>
</tbody></table>

<h2 id="create-a-function">Create a function</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/functions"</span>
    -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -X POST -d <span class="s1">'{"name":"functionName"}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">functions</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="s2">"helloWorld"</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Function to run</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Hello world!"</span><span class="p">);</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">registered</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="c1">// Error occurred</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">registered</span><span class="p">)</span> <span class="c1">// Registered successfully</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>
<pre class="highlight java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="k">def</span> <span class="nf">test_function</span><span class="p">(</span><span class="n">argument</span><span class="p">):</span>
  <span class="c">#function implementation</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">wia</span><span class="o">.</span><span class="n">Function</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s">'function_name'</span><span class="p">,</span>
    <span class="n">function</span><span class="o">=</span><span class="n">test_function</span>
  <span class="p">)</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"helloFunction"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"enabledAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444995277000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444995244000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444995277000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint register a function for a device.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.wia.io/v1/functions</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>✓</td>
</tr>
<tr>
<td>User</td>
<td>x</td>
</tr>
<tr>
<td>Organisation</td>
<td>x</td>
</tr>
<tr>
<td>Customer</td>
<td>x</td>
</tr>
</tbody></table>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Name of the function to be registered</td>
</tr>
</tbody></table>

<h2 id="delete-a-function">Delete a function</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/functions/func_aba7812nsdfk"</span>
    -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -X DELETE -d <span class="s1">'{"name":"functionName"}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">functions</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span>
    <span class="s2">"func_aba7812nsdfk"</span><span class="p">,</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">deregistered</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="c1">// Error occurred</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">deregistered</span><span class="p">)</span> <span class="c1">// Deregistered successfully</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>
<pre class="highlight java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="n">wia</span><span class="o">.</span><span class="n">Function</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s">"function_id"</span>
  <span class="p">)</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="mi">200</span><span class="w"> </span><span class="err">OK</span><span class="w">
</span></code></pre>

<p>This endpoint deregisters a function for a device.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.wia.io/v1/functions/:id</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>✓</td>
</tr>
<tr>
<td>User</td>
<td>x</td>
</tr>
<tr>
<td>Organisation</td>
<td>x</td>
</tr>
<tr>
<td>Customer</td>
<td>x</td>
</tr>
</tbody></table>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Unique ID of function.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Name of the function to be deleted.</td>
</tr>
</tbody></table>

<h2 id="call-a-function">Call a function</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/functions/:id/call"</span>
    -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -X DELETE
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">functions</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="s2">"func_9thkLKKf9jsdfm"</span><span class="p">,</span>
      <span class="na">device</span><span class="p">:</span> <span class="s2">"dev_knsd9k1n2dfg"</span> <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">callFunction</span><span class="p">:</span><span class="err">@</span><span class="p">{</span>
        <span class="s">@"id"</span><span class="o">:</span> <span class="s">@"dev_id"</span><span class="p">,</span>
        <span class="s">@"name"</span><span class="o">:</span> <span class="s">@"functionName"</span>
    <span class="p">}</span>
    <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Success
</span>    <span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="n">wia</span><span class="o">.</span><span class="n">Function</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
    <span class="n">device</span><span class="o">=</span><span class="s">"device_id"</span><span class="p">,</span>
    <span class="n">func</span><span class="o">=</span><span class="s">"function_id"</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s">'arg'</span><span class="p">:</span> <span class="mi">100</span><span class="p">}</span>
  <span class="p">)</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight plaintext"><code>200 OK
</code></pre>

<p>This endpoint runs a function on a device.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.wia.io/v1/functions/:id/call</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>✓</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>✓</td>
</tr>
</tbody></table>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Unique identifier of the device.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Name of the function to be run.</td>
</tr>
<tr>
<td>data</td>
<td>Any</td>
<td>Data to send to the function.</td>
</tr>
</tbody></table>

<h2 id="list-functions">List functions</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/functions"</span>
    -H <span class="s2">"Authorization: Bearer token"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">functions</span><span class="p">.</span><span class="nx">list</span><span class="p">({</span>
    <span class="na">device</span><span class="p">:</span> <span class="s2">"dev_jndg81bdfngl"</span><span class="p">,</span>
    <span class="na">limit</span><span class="p">:</span> <span class="mi">20</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">functions</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">functions</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">functions</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">listFunctions</span><span class="p">:</span><span class="s">@"id"</span>
  <span class="nf">params</span><span class="p">:</span> <span class="err">@</span><span class="p">{</span>
    <span class="s">@"limit"</span><span class="o">:</span> <span class="err">@</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
    <span class="s">@"page"</span><span class="o">:</span> <span class="err">@</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSArray</span> <span class="o">*</span><span class="n">functions</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">wia</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">wia</span><span class="o">.</span><span class="n">Function</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span>
    <span class="n">device</span><span class="o">=</span><span class="s">"device_id"</span><span class="p">,</span>
    <span class="n">limit</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">page</span><span class="o">=</span><span class="mi">0</span>
  <span class="p">)</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"functions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">   
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"func_nj1msdf89k83jdf"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"helloFunction1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"isEnabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"enabledAt"</span><span class="p">:</span><span class="mi">1445253805000</span><span class="p">,</span><span class="w">
            </span><span class="nt">"createdAt"</span><span class="p">:</span><span class="mi">1444995244000</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updatedAt"</span><span class="p">:</span><span class="mi">1445253805000</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"func_8912jdfg9MSADh9"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"helloFunction2"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"isEnabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"enabledAt"</span><span class="p">:</span><span class="mi">1445253805000</span><span class="p">,</span><span class="w">
            </span><span class="nt">"createdAt"</span><span class="p">:</span><span class="mi">1445253575000</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updatedAt"</span><span class="p">:</span><span class="mi">1445253805000</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a list of functions for a device.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.wia.io/v1/functions</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>✓</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>✓</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>device</td>
<td>String</td>
<td>-</td>
<td>Unique identifier for the device. Required.</td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>20</td>
<td>Number of functions to return. Max value 200.</td>
</tr>
<tr>
<td>page</td>
<td>Number</td>
<td>0</td>
<td>Page of results.</td>
</tr>
</tbody></table>

<h1 id="customers">Customers</h1>

<h2 id="the-customer-object">The customer object</h2>

<blockquote>
<p>Example of a User object</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cus_BDjfkdsd8Jasd1fg"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"elliot@alderson.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"elliot@alderson.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Elliot Alderson"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://images.wia.io/avatars/A97F0394-D03A-479A-87B8-FDC85079F4A5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440597871546</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440597871154</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Unique identifier for the customer.</td>
</tr>
<tr>
<td>username</td>
<td>String</td>
<td>Username of the customer.</td>
</tr>
<tr>
<td>email</td>
<td>String</td>
<td>Email address of the customer.</td>
</tr>
<tr>
<td>fullName</td>
<td>String</td>
<td>Full name of the customer.</td>
</tr>
<tr>
<td>avatar</td>
<td>String</td>
<td>URL to the customers avatar.</td>
</tr>
<tr>
<td>createdAt</td>
<td>Timestamp</td>
<td>Timestamp of the when the customer was created.</td>
</tr>
<tr>
<td>updatedAt</td>
<td>Timestamp</td>
<td>Timestamp of the when the customer was updated.</td>
</tr>
</tbody></table>

<h2 id="create-a-customer">Create a customer</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/customers"</span>
    -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -X POST -d <span class="s1">'{"fullName":"Elliot Andereson", "email":"elliot@fsociety.com"}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">customers</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">fullName</span><span class="p">:</span> <span class="s2">"Elliot Anderson"</span><span class="p">,</span>
    <span class="na">email</span><span class="p">:</span> <span class="s2">"elliot@fsociety.com"</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">user</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">user</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"secret key"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">createCustomer</span><span class="p">:</span><span class="err">@</span><span class="p">{</span>
    <span class="nf">fullName</span><span class="p">:</span> <span class="s">@"Elliot Anderson"</span><span class="p">,</span>
    <span class="nf">email</span><span class="p">:</span> <span class="s">@"elliot@fsociety.com"</span>
<span class="p">}</span> <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">WiaUser</span> <span class="o">*</span><span class="n">user</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>
<pre class="highlight python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cus_BDjfkdsd8Jasd1fg"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"elliot@alderson.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"elliot@alderson.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Elliot Alderson"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://images.wia.io/avatars/A97F0394-D03A-479A-87B8-FDC85079F4A5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440597871546</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440597871154</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a customer.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.wia.io/v1/customers</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>x</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>x</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fullName</td>
<td>String</td>
<td>Full name of the customer to be created. Required.</td>
</tr>
<tr>
<td>email</td>
<td>String</td>
<td>Email address of customer to be created. Required.</td>
</tr>
</tbody></table>

<h2 id="retrieve-a-customer">Retrieve a customer</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/customers/cus_kndfg82mM90fdgm1"</span>
    -H <span class="s2">"Authorization: Bearer token"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">retrieve</span><span class="p">(</span><span class="s2">"cus_kndfg82mM90fdgm1"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">user</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">user</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">retrieveCustomer</span><span class="p">:</span><span class="s">@"cus_kndfg82mM90fdgm1"</span>
  <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">WiaCustomer</span> <span class="o">*</span><span class="n">customer</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>
<pre class="highlight python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cus_jhdfg8ndfglk"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"elliot@fsociety.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Elliot"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alderson"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Elliot Alderson"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444063382000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444063382000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a customer.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.wia.io/v1/customers/:id</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>x</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>x</td>
</tr>
</tbody></table>

<h2 id="update-a-customer">Update a customer</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/customers/cus_kndfg82mM90fdgm1"</span>
    -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -X PUT -d <span class="s1">'{"fullName":"Tyrell Wellick"}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">customers</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="s2">"cus_kndfg82mM90fdgm1"</span><span class="p">,</span>
    <span class="p">{</span><span class="s2">"fullName"</span><span class="p">:</span><span class="s2">"Tyrell Wellick"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">customer</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">customer</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">customer</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">updateCustomer</span><span class="p">:</span><span class="s">@"cus_kndfg82mM90fdgm1"</span>
  <span class="nf">fields</span><span class="p">:</span><span class="err">@</span><span class="p">{</span>
    <span class="s">@"fullName"</span><span class="o">:</span> <span class="s">@"Tyrell Wellick"</span>
  <span class="p">}</span>
  <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">WiaCustomer</span> <span class="o">*</span><span class="n">customer</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>
<pre class="highlight python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_jhdfg8ndfglk"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"elliot@fsociety.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyrell"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wellick"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyrell Wellick"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444063382000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444063382000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint updates a customer.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.wia.io/v1/customers/:id</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>x</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>x</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fullName</td>
<td>String</td>
<td>Full name of the customer to be created.</td>
</tr>
<tr>
<td>email</td>
<td>String</td>
<td>Email address of customer to be created.</td>
</tr>
</tbody></table>

<h2 id="delete-a-customer">Delete a customer</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/customers/cus_kndfg82mM90fdgm1"</span>
    -X DELETE
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">customers</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="s2">"cus_kndfg82mM90fdgm1"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">customer</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">customer</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">customer</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">deleteCustomer</span><span class="p">:</span><span class="s">@"cus_kndfg82mM90fdgm1"</span>
  <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">BOOL</span> <span class="n">deleted</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>
<pre class="highlight python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="mi">200</span><span class="w"> </span><span class="err">OK</span><span class="w">
</span></code></pre>

<p>This endpoint deletes a customer.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.wia.io/v1/customers/:id</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>x</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>x</td>
</tr>
</tbody></table>

<h2 id="list-customers">List customers</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/customers?limit=20"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
    -X GET
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">customers</span><span class="p">.</span><span class="nx">list</span><span class="p">({</span>
    <span class="na">limit</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="na">page</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">listCustomers</span><span class="p">:</span><span class="err">@</span><span class="p">{</span>
  <span class="s">@"limit"</span><span class="o">:</span> <span class="err">@</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
  <span class="s">@"page"</span><span class="o">:</span> <span class="err">@</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">}</span> <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>
<pre class="highlight python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"users"</span><span class="err">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cus_jhdfg8ndfglk"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"elliot@fsociety.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Elliot"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anderson"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Elliot Anderson"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444063382000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444063382000</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cus_mkn324875gBasdu"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tyrell@ecorp.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyrell"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wellick"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyrell Wellick"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444063382000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444063382000</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"count"</span><span class="err">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves users and a total count.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.wia.io/v1/customers</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>x</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>x</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>limit</td>
<td>Number</td>
<td>20</td>
<td>Number of customers to return. Max value 200.</td>
</tr>
<tr>
<td>page</td>
<td>Number</td>
<td>0</td>
<td>First page is 0.</td>
</tr>
<tr>
<td>order</td>
<td>String</td>
<td>&#39;createdAt&rsquo;</td>
<td>Field to sort by. Valid values include &#39;createdAt&rsquo;, &#39;updatedAt&rsquo; and &#39;name&rsquo;.</td>
</tr>
<tr>
<td>sort</td>
<td>String</td>
<td>&#39;desc&rsquo;</td>
<td>Either ascending &#39;asc&rsquo; or descending &#39;desc&rsquo;.</td>
</tr>
</tbody></table>

<h2 id="add-device-to-customer">Add device to customer</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/customers/cus_jhdfg8ndfglk/devices"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
    -X POST -d <span class="s1">'{"device":"dev_ms8dfgknLA9k"}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">customers</span><span class="p">.</span><span class="nx">addDevice</span><span class="p">(</span><span class="s2">"cus_jhdfg8ndfglk"</span><span class="p">,</span> <span class="s2">"dev_ms8dfgknLA9k"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">added</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">added</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">added</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">addDevice</span><span class="p">:</span><span class="s">@""</span> <span class="n">toUser</span><span class="s">@""</span>
    <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">BOOL</span> <span class="n">added</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>
<pre class="highlight python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="mi">200</span><span class="w"> </span><span class="err">OK</span><span class="w">
</span></code></pre>

<p>This endpoint adds a device to a customer.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.wia.io/v1/customers/:id/devices</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>x</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>x</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>device</td>
<td>String</td>
<td>-</td>
<td>Unique identifier of device to be added to customer.</td>
</tr>
</tbody></table>

<h2 id="remove-device-from-customer">Remove device from customer</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.wia.io/v1/customers/cus_jhdfg8ndfglk/devices/dev_ms8dfgknLA9k"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
    -X DELETE
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">wia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'wia'</span><span class="p">)(</span><span class="s1">'secret key or token'</span><span class="p">);</span>

<span class="nx">wia</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">removeDevice</span><span class="p">(</span><span class="s2">"cus_jhdfg8ndfglk"</span><span class="p">,</span> <span class="s2">"dev_ms8dfgknLA9k"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">removed</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">removed</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">removed</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="cp">#import "Wia.h"
</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">initWithToken</span><span class="p">:</span><span class="s">@"token"</span><span class="p">];</span>
<span class="p">[[</span><span class="n">WiaClient</span> <span class="nf">sharedInstance</span><span class="p">]</span> <span class="nf">removeDevice</span><span class="p">:</span><span class="s">@""</span> <span class="n">fromCustomer</span><span class="s">@""</span>
    <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">BOOL</span> <span class="n">removed</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Success
</span><span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// An error occurred
</span><span class="p">}];</span>
</code></pre>
<pre class="highlight java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>
<pre class="highlight python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="mi">200</span><span class="w"> </span><span class="err">OK</span><span class="w">
</span></code></pre>

<p>This endpoint removes a device from a customer.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.wia.io/v1/customers/:customerId/devices/:deviceId</code></p>

<h3 id="authorization">Authorization</h3>

<table><thead>
<tr>
<th>Access Type</th>
<th>Permitted</th>
</tr>
</thead><tbody>
<tr>
<td>Device</td>
<td>x</td>
</tr>
<tr>
<td>User</td>
<td>x</td>
</tr>
<tr>
<td>Organisation</td>
<td>✓</td>
</tr>
<tr>
<td>Customer</td>
<td>x</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<p>The Wia API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request could not be understood by the server. Possibly bad syntax.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The resource requested is forbidden.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified resource could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a resource with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t valid.</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The resource requested has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too much! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">curl</a>
                <a href="#" data-language-name="javascript">Node.js</a>
                <a href="#" data-language-name="objective_c">iOS</a>
                <a href="#" data-language-name="java">Java</a>
                <a href="#" data-language-name="python">Python</a>
          </div>
      </div>
    </div>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-65891850-5', 'auto');
      ga('send', 'pageview');

    </script>
  </body>
</html>
